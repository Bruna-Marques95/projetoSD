CREATE SEQUENCE seq_BrowserVoto;
CREATE SEQUENCE seq_Eleicao;
CREATE SEQUENCE seq_MESA_VOTO;
CREATE TABLE BrowserVoto (ID number(10) NOT NULL, PRIMARY KEY (ID));
CREATE TABLE BrowserVoto_Eleicao (BrowserVotoID number(10) NOT NULL, EleicaoID number(10) NOT NULL, PRIMARY KEY (BrowserVotoID, EleicaoID));
CREATE TABLE BrowserVoto_Pessoa (BrowserVotoID number(10) NOT NULL, PessoaNumCC number(8) NOT NULL, PessoaUnidadeOrganicaNome varchar2(100) NOT NULL, dataVoto timestamp(0) NOT NULL, PRIMARY KEY (BrowserVotoID, PessoaNumCC, PessoaUnidadeOrganicaNome));
CREATE TABLE Departamento (Nome varchar2(255) NOT NULL, FaculdadeNome varchar2(255) NOT NULL, UnidadeOrganicaNome varchar2(100) NOT NULL, PRIMARY KEY (Nome));
CREATE TABLE Eleicao (Titulo varchar2(50) NOT NULL, Descricao varchar2(255) NOT NULL, DataInicio date NOT NULL, DataFim date NOT NULL, VotosNulos number(10) NOT NULL, VotosBranco number(10) NOT NULL, Abstencoes number(10) NOT NULL, tipo varchar2(255) NOT NULL, ID number(10) NOT NULL, UnidadeOrganicaNome varchar2(100) NOT NULL, PRIMARY KEY (ID));
CREATE TABLE Faculdade (Nome varchar2(255) NOT NULL, UONome varchar2(100) NOT NULL, PRIMARY KEY (Nome));
CREATE TABLE Lista (num_votos number(10) NOT NULL, NomeLista varchar2(50) NOT NULL, EleicaoID number(10) NOT NULL, tipoLista varchar2(50) NOT NULL, PRIMARY KEY (NomeLista));
CREATE TABLE Mesa_Voto (UONome varchar2(100) NOT NULL, ID number(10) NOT NULL, PRIMARY KEY (UONome, ID));
CREATE TABLE Mesa_Voto_Eleicao (Mesa_VotoUONome varchar2(100) NOT NULL, Mesa_VotoID number(10) NOT NULL, EleicaoID number(10) NOT NULL, PRIMARY KEY (Mesa_VotoUONome, Mesa_VotoID, EleicaoID));
CREATE TABLE Mesa_Voto_Pessoa (Mesa_VotoUONome varchar2(100) NOT NULL, Mesa_VotoID number(10) NOT NULL, PessoaNumCC number(8) NOT NULL, PessoaUnidadeOrganicaNome varchar2(100) NOT NULL, votarOuAssociar number(1) NOT NULL, dataVoto timestamp(0), PRIMARY KEY (Mesa_VotoUONome, Mesa_VotoID, PessoaNumCC, PessoaUnidadeOrganicaNome));
CREATE TABLE NucleoEstudantes (FaculdadeNome varchar2(255) NOT NULL, nomeNucleo varchar2(100) NOT NULL, DepartamentoNome varchar2(255), PRIMARY KEY (nomeNucleo));
CREATE TABLE Pessoa (Nome varchar2(255) NOT NULL, NomeUtilizador varchar2(255) NOT NULL UNIQUE, Password varchar2(255) NOT NULL, NumTelefone number(9) NOT NULL, Morada varchar2(255) NOT NULL, ValidadeCC date NOT NULL, NumCC number(8) NOT NULL UNIQUE, UnidadeOrganicaNome varchar2(100) NOT NULL, tipo varchar2(50) NOT NULL, permissao number(1) NOT NULL, PRIMARY KEY (NumCC, UnidadeOrganicaNome));
CREATE TABLE Pessoa_Lista (PessoaNumCC number(8) NOT NULL, PessoaUnidadeOrganicaNome varchar2(100) NOT NULL, ListaNomeLista varchar2(50) NOT NULL, PRIMARY KEY (PessoaNumCC, PessoaUnidadeOrganicaNome, ListaNomeLista));
CREATE TABLE UnidadeOrganica (Nome varchar2(100) NOT NULL, PRIMARY KEY (Nome));
ALTER TABLE Departamento ADD CONSTRAINT FKDepartamen498222 FOREIGN KEY (FaculdadeNome) REFERENCES Faculdade (Nome);
ALTER TABLE Lista ADD CONSTRAINT FKLista824204 FOREIGN KEY (EleicaoID) REFERENCES Eleicao (ID);
ALTER TABLE NucleoEstudantes ADD CONSTRAINT FKNucleoEstu48456 FOREIGN KEY (FaculdadeNome) REFERENCES Faculdade (Nome);
ALTER TABLE NucleoEstudantes ADD CONSTRAINT FKNucleoEstu984648 FOREIGN KEY (DepartamentoNome) REFERENCES Departamento (Nome);
ALTER TABLE Faculdade ADD CONSTRAINT FKFaculdade889709 FOREIGN KEY (UONome) REFERENCES UnidadeOrganica (Nome);
ALTER TABLE Pessoa ADD CONSTRAINT FKPessoa515468 FOREIGN KEY (UnidadeOrganicaNome) REFERENCES UnidadeOrganica (Nome);
ALTER TABLE Eleicao ADD CONSTRAINT FKEleicao939845 FOREIGN KEY (UnidadeOrganicaNome) REFERENCES UnidadeOrganica (Nome);
ALTER TABLE Mesa_Voto ADD CONSTRAINT FKMesa_Voto918449 FOREIGN KEY (UONome) REFERENCES UnidadeOrganica (Nome);
ALTER TABLE Departamento ADD CONSTRAINT FKDepartamen569216 FOREIGN KEY (UnidadeOrganicaNome) REFERENCES UnidadeOrganica (Nome);
ALTER TABLE Mesa_Voto_Eleicao ADD CONSTRAINT FKMesa_Voto_857305 FOREIGN KEY (Mesa_VotoUONome, Mesa_VotoID) REFERENCES Mesa_Voto (UONome, ID);
ALTER TABLE Pessoa_Lista ADD CONSTRAINT FKPessoa_Lis874091 FOREIGN KEY (PessoaNumCC, PessoaUnidadeOrganicaNome) REFERENCES Pessoa (NumCC, UnidadeOrganicaNome);
ALTER TABLE Mesa_Voto_Pessoa ADD CONSTRAINT FKMesa_Voto_586446 FOREIGN KEY (PessoaNumCC, PessoaUnidadeOrganicaNome) REFERENCES Pessoa (NumCC, UnidadeOrganicaNome);
ALTER TABLE Mesa_Voto_Eleicao ADD CONSTRAINT FKMesa_Voto_269680 FOREIGN KEY (EleicaoID) REFERENCES Eleicao (ID);
ALTER TABLE Pessoa_Lista ADD CONSTRAINT FKPessoa_Lis219717 FOREIGN KEY (ListaNomeLista) REFERENCES Lista (NomeLista);
ALTER TABLE BrowserVoto_Eleicao ADD CONSTRAINT FKBrowserVot131559 FOREIGN KEY (BrowserVotoID) REFERENCES BrowserVoto (ID);
ALTER TABLE BrowserVoto_Pessoa ADD CONSTRAINT FKBrowserVot371872 FOREIGN KEY (PessoaNumCC, PessoaUnidadeOrganicaNome) REFERENCES Pessoa (NumCC, UnidadeOrganicaNome);
ALTER TABLE BrowserVoto_Eleicao ADD CONSTRAINT FKBrowserVot283797 FOREIGN KEY (EleicaoID) REFERENCES Eleicao (ID);
ALTER TABLE BrowserVoto_Pessoa ADD CONSTRAINT votou FOREIGN KEY (BrowserVotoID) REFERENCES BrowserVoto (ID);
ALTER TABLE Mesa_Voto_Pessoa ADD CONSTRAINT "votou/associado" FOREIGN KEY (Mesa_VotoUONome, Mesa_VotoID) REFERENCES Mesa_Voto (UONome, ID);
